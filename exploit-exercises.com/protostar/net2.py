#!/usr/bin/python
import struct
import socket

# create a socket to connect to the service
client = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
# connect the the service
client.connect(('192.168.56.101', 2997))

# get the response 4 * 4 byte integers
incoming = client.recv(16, socket.MSG_WAITALL)

# convert the response to integers
values = struct.unpack('<IIII', incoming)

# send back the sum
# * remove any overflow & 0xffffffff
# * pack it back into a little endian integer
# * convert it to string to send
client.send(str(struct.pack('<I', sum(values) & 0xffffffff)))

# get the response
result = client.recv(256)
print result

# finally close
client.close()
