#!/usr/bin/python
import sys
import struct
import socket

# create a socket to connect to the service
client = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
# connect the the service
client.connect((sys.argv[1], 2999))

# get the response 'Please ...'
incoming = client.recv(256)
print incoming

# get the requested number (as int)
request = int(incoming.rsplit('\'')[1])

# convert the response to little endian
response = struct.pack('<I', request)

# send it back
client.send(response)

# get the response
print client.recv(256)

# finally close
client.close()
